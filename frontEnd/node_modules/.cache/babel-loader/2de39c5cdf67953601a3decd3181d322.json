{"ast":null,"code":"var _jsxFileName = \"/home/rivo/studies/internationalPhoneNumberValidator/frontEnd/phone-number-categorize/src/App.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport './App.css';\nimport List from \"./components/List\";\nimport { ItemService } from \"./services/item.service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [items, setItems] = useState([]);\n  const [hasNext, setHasNext] = useState(true);\n  const [nextPage, setNextPage] = useState(0);\n  const [isSearching, setIsSearching] = useState(false);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [isValid, setIsValid] = useState(false);\n\n  const getAll = () => {\n    if (isSearching) {\n      new ItemService().getPage({\n        page: 0\n      }).then(res => {\n        setItems(res.content);\n        setHasNext(!res.last);\n        setNextPage(res.number + 1);\n      });\n      setIsSearching(false);\n    }\n\n    if (hasNext) {\n      new ItemService().getPage({\n        page: nextPage\n      }).then(res => {\n        setItems(oldItems => {\n          oldItems.push(...res.content);\n          return oldItems;\n        });\n        setHasNext(!res.last);\n        setNextPage(res.number + 1);\n      });\n    }\n  };\n\n  const getByCountryAndState = () => {\n    if (!isSearching) {\n      new ItemService().getByCountryAndState({\n        country: searchValue,\n        state: isValid,\n        page: 0\n      }).then(res => {\n        setItems(res.content);\n        setHasNext(!res.last);\n        setNextPage(res.number + 1);\n      });\n      setIsSearching(true);\n      return;\n    }\n\n    if (hasNext) {\n      new ItemService().getByCountryAndState({\n        country: searchValue,\n        state: isValid,\n        page: nextPage\n      }).then(res => {\n        setItems(oldItems => {\n          oldItems.push(...res.content);\n          return oldItems;\n        });\n        setHasNext(!res.last);\n        setNextPage(res.number + 1);\n      });\n    }\n  };\n\n  const cleanStates = () => {\n    setItems([]);\n    setHasNext(true);\n    setNextPage(0);\n  };\n\n  useEffect(() => {\n    cleanStates();\n    getAll();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"m-auto container flex flex-col gap-2 justify-center items-center p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center mb-2\",\n      children: \"International Phone Number Categorize\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"self-stretch flex flex-col gap-2\",\n      onSubmit: e => {\n        e.preventDefault();\n        cleanStates();\n        getByCountryAndState();\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2 self-stretch\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"grow p-2 border rounded self-stretch\",\n          type: \"text\",\n          placeholder: \"Country here\",\n          value: searchValue,\n          onChange: e => {\n            if (!e.target.value) {\n              getAll();\n            }\n\n            setSearchValue(e.target.value);\n            setIsSearching(false);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"p-2 rounded\",\n          name: \"state\",\n          value: isValid ? \"valid\" : \"invalid\",\n          onChange: e => {\n            setIsSearching(false);\n            setIsValid(e.target.value === \"valid\");\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"valid\",\n            children: \"Valid\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"invalid\",\n            children: \"Invalid\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"block p-2 border rounded self-stretch\",\n        type: \"submit\",\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between self-stretch gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"flex-1\",\n        children: \"COUNTRY NAME\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"flex-1\",\n        children: \"COUNTRY CODE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"flex-1\",\n        children: \"PHONE NUMBER\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"flex-1\",\n        children: \"STATE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      items: items\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"self-stretch p-2 border rounded\",\n      onClick: isSearching ? getByCountryAndState : getAll,\n      children: \"Load More\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n}\n\n_s(App, \"Qe5lUgyeyMQNaOtxeyobRW6XEQ8=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/rivo/studies/internationalPhoneNumberValidator/frontEnd/phone-number-categorize/src/App.tsx"],"names":["React","useEffect","useState","List","ItemService","App","items","setItems","hasNext","setHasNext","nextPage","setNextPage","isSearching","setIsSearching","searchValue","setSearchValue","isValid","setIsValid","getAll","getPage","page","then","res","content","last","number","oldItems","push","getByCountryAndState","country","state","cleanStates","e","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport './App.css';\nimport List from \"./components/List\";\nimport {Phone} from \"./model/phone\";\nimport {ItemService} from \"./services/item.service\";\n\nfunction App() {\n    const [items, setItems] = useState<Phone[]>([]);\n    const [hasNext, setHasNext] = useState(true);\n    const [nextPage, setNextPage] = useState(0);\n    const [isSearching, setIsSearching] = useState(false)\n\n    const [searchValue, setSearchValue] = useState(\"\");\n    const [isValid, setIsValid] = useState(false);\n\n    const getAll = () => {\n        if (isSearching) {\n            new ItemService().getPage({page: 0}).then(res => {\n                setItems(res.content);\n                setHasNext(!res.last);\n                setNextPage(res.number + 1);\n            })\n            setIsSearching(false)\n        }\n        if (hasNext) {\n            new ItemService().getPage({page: nextPage}).then(res => {\n                setItems((oldItems) => {\n                    oldItems.push(...res.content);\n                    return oldItems;\n                });\n                setHasNext(!res.last);\n                setNextPage(res.number + 1);\n            })\n        }\n    }\n    const getByCountryAndState = () => {\n        if (!isSearching) {\n            new ItemService().getByCountryAndState({country: searchValue, state: isValid, page: 0})\n                .then(res => {\n                    setItems(res.content);\n                    setHasNext(!res.last);\n                    setNextPage(res.number + 1);\n                })\n            setIsSearching(true)\n            return\n        }\n        if (hasNext) {\n            new ItemService().getByCountryAndState({country: searchValue, state: isValid, page: nextPage})\n                .then(res => {\n                    setItems((oldItems) => {\n                        oldItems.push(...res.content);\n                        return oldItems;\n                    });\n                    setHasNext(!res.last);\n                    setNextPage(res.number + 1);\n                })\n        }\n\n    }\n\n    const cleanStates = () => {\n        setItems([])\n        setHasNext(true)\n        setNextPage(0)\n    }\n\n    useEffect(() => {\n        cleanStates()\n        getAll()\n    }, [])\n\n    return (\n        <div className=\"m-auto container flex flex-col gap-2 justify-center items-center p-4\">\n            <h1 className=\"text-center mb-2\">International Phone Number Categorize</h1>\n            <form className=\"self-stretch flex flex-col gap-2\" onSubmit={(e) => {\n                e.preventDefault()\n                cleanStates()\n                getByCountryAndState()\n            }}>\n                <div className=\"flex gap-2 self-stretch\">\n                    <input className=\"grow p-2 border rounded self-stretch\" type=\"text\" placeholder={\"Country here\"} value={searchValue}\n                           onChange={(e) => {\n                               if(!e.target.value) {\n                                   getAll()\n                               }\n                               setSearchValue(e.target.value)\n                               setIsSearching(false)\n                           }}/>\n\n                    <select className=\"p-2 rounded\" name=\"state\" value={isValid ? \"valid\" : \"invalid\"} onChange={(e) => {\n                        setIsSearching(false)\n                        setIsValid(e.target.value === \"valid\")\n                    }}>\n                        <option value={\"valid\"}>\n                            Valid\n                        </option>\n                        <option value={\"invalid\"}>\n                            Invalid\n                        </option>\n                    </select>\n                </div>\n                <button className=\"block p-2 border rounded self-stretch\" type=\"submit\">\n                    Search\n                </button>\n            </form>\n            <div className=\"flex justify-between self-stretch gap-2\">\n                <span className=\"flex-1\">COUNTRY NAME</span>\n                <span className=\"flex-1\">COUNTRY CODE</span>\n                <span className=\"flex-1\">PHONE NUMBER</span>\n                <span className=\"flex-1\">STATE</span>\n            </div>\n            <List items={items}/>\n            <button className=\"self-stretch p-2 border rounded\" onClick={isSearching ? getByCountryAndState : getAll}>\n                Load More\n            </button>\n        </div>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}