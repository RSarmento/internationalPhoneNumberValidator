{"ast":null,"code":"var _jsxFileName = \"/home/rivo/studies/internationalPhoneNumberValidator/frontEnd/phone-number-categorize/src/App.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport './App.css';\nimport List from \"./components/List\";\nimport { ItemService } from \"./services/item.service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [items, setItems] = useState([]);\n  const [hasNext, setHasNext] = useState(true);\n  const [nextPage, setNextPage] = useState(0);\n  const [isSearching, setIsSearching] = useState(false);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [isValid, setIsValid] = useState(false);\n\n  const getAll = () => {\n    if (isSearching) {\n      new ItemService().getPage({\n        page: 0\n      }).then(res => {\n        setItems(res.content);\n        setHasNext(!res.last);\n        setNextPage(res.number + 1);\n      });\n      setIsSearching(false);\n    }\n\n    if (hasNext) {\n      new ItemService().getPage({\n        page: nextPage\n      }).then(res => {\n        setItems(oldItems => {\n          oldItems.push(...res.content);\n          return oldItems;\n        });\n        setHasNext(!res.last);\n        setNextPage(res.number + 1);\n      });\n    }\n  };\n\n  const getByCountryAndState = () => {\n    if (!isSearching) {\n      new ItemService().getByCountryAndState({\n        country: searchValue,\n        state: isValid,\n        page: 0\n      }).then(res => {\n        setItems(res.content);\n        setHasNext(!res.last);\n        setNextPage(res.number + 1);\n      });\n      setIsSearching(true);\n      return;\n    }\n\n    if (hasNext) {\n      new ItemService().getByCountryAndState({\n        country: searchValue,\n        state: isValid,\n        page: nextPage\n      }).then(res => {\n        setItems(oldItems => {\n          oldItems.push(...res.content);\n          return oldItems;\n        });\n        setHasNext(!res.last);\n        setNextPage(res.number + 1);\n      });\n    }\n  };\n\n  const cleanStates = () => {\n    setItems([]);\n    setHasNext(true);\n    setNextPage(0);\n  };\n\n  useEffect(() => {\n    cleanStates();\n    getAll();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center\",\n      children: \"International Phone Number Categorize\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Country here\",\n      value: searchValue,\n      onChange: e => {\n        if (!e.target.value) {\n          getAll();\n        }\n\n        setSearchValue(e.target.value);\n        setIsSearching(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      name: \"state\",\n      value: isValid ? \"valid\" : \"invalid\",\n      onChange: e => {\n        setIsSearching(false);\n        setIsValid(e.target.value === \"valid\");\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"valid\",\n        children: \"Valid\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"invalid\",\n        children: \"Invalid\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        cleanStates();\n        getByCountryAndState();\n      },\n      children: \"Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \" COUNTRY NAME \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \" COUNTRY CODE \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \" PHONE NUMBER \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \" STATE \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      items: items\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: isSearching ? getByCountryAndState : getAll,\n      children: \"Load More\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n}\n\n_s(App, \"Qe5lUgyeyMQNaOtxeyobRW6XEQ8=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/rivo/studies/internationalPhoneNumberValidator/frontEnd/phone-number-categorize/src/App.tsx"],"names":["React","useEffect","useState","List","ItemService","App","items","setItems","hasNext","setHasNext","nextPage","setNextPage","isSearching","setIsSearching","searchValue","setSearchValue","isValid","setIsValid","getAll","getPage","page","then","res","content","last","number","oldItems","push","getByCountryAndState","country","state","cleanStates","e","target","value"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport './App.css';\nimport List from \"./components/List\";\nimport {Phone} from \"./model/phone\";\nimport {ItemService} from \"./services/item.service\";\n\nfunction App() {\n    const [items, setItems] = useState<Phone[]>([]);\n    const [hasNext, setHasNext] = useState(true);\n    const [nextPage, setNextPage] = useState(0);\n    const [isSearching, setIsSearching] = useState(false)\n\n    const [searchValue, setSearchValue] = useState(\"\");\n    const [isValid, setIsValid] = useState(false);\n\n    const getAll = () => {\n        if (isSearching) {\n            new ItemService().getPage({page: 0}).then(res => {\n                setItems(res.content);\n                setHasNext(!res.last);\n                setNextPage(res.number + 1);\n            })\n            setIsSearching(false)\n        }\n        if (hasNext) {\n            new ItemService().getPage({page: nextPage}).then(res => {\n                setItems((oldItems) => {\n                    oldItems.push(...res.content);\n                    return oldItems;\n                });\n                setHasNext(!res.last);\n                setNextPage(res.number + 1);\n            })\n        }\n    }\n    const getByCountryAndState = () => {\n        if (!isSearching) {\n            new ItemService().getByCountryAndState({country: searchValue, state: isValid, page: 0})\n                .then(res => {\n                    setItems(res.content);\n                    setHasNext(!res.last);\n                    setNextPage(res.number + 1);\n                })\n            setIsSearching(true)\n            return\n        }\n        if (hasNext) {\n            new ItemService().getByCountryAndState({country: searchValue, state: isValid, page: nextPage})\n                .then(res => {\n                    setItems((oldItems) => {\n                        oldItems.push(...res.content);\n                        return oldItems;\n                    });\n                    setHasNext(!res.last);\n                    setNextPage(res.number + 1);\n                })\n        }\n\n    }\n\n    const cleanStates = () => {\n        setItems([])\n        setHasNext(true)\n        setNextPage(0)\n    }\n\n    useEffect(() => {\n        cleanStates()\n        getAll()\n    }, [])\n\n    return (\n        <div className=\"container\">\n            <h1 className=\"text-center\">International Phone Number Categorize</h1>\n            <input type=\"text\" placeholder={\"Country here\"} value={searchValue}\n                   onChange={(e) => {\n                       if(!e.target.value) {\n                           getAll()\n                       }\n                       setSearchValue(e.target.value)\n                       setIsSearching(false)\n                   }}/>\n\n            <select name=\"state\" value={isValid ? \"valid\" : \"invalid\"} onChange={(e) => {\n                setIsSearching(false)\n                setIsValid(e.target.value === \"valid\")\n            }}>\n                <option value={\"valid\"}>\n                    Valid\n                </option>\n                <option value={\"invalid\"}>\n                    Invalid\n                </option>\n            </select>\n            <button onClick={() => {\n                cleanStates()\n                getByCountryAndState()\n            }}>\n                Search\n            </button>\n            <div>\n                <span> COUNTRY NAME </span>\n                <span> COUNTRY CODE </span>\n                <span> PHONE NUMBER </span>\n                <span> STATE </span>\n            </div>\n            <List items={items}/>\n            <button onClick={isSearching ? getByCountryAndState : getAll}>\n                Load More\n            </button>\n        </div>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}